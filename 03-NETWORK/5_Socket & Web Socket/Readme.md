# Socket & Web Socket

## Web Socket

## 소켓과 포트의 차이가 무엇인가요?

- Socket : 네트워크를 통해 데이터를 보내고 받기 위한 구조체이다
- Web Socket : HTML5에서 도입되어 실시간 양뱡향 통신을 지원하는 컴퓨터 네트워크 프로토콜이다
- Port : 네트워크 프로토콜에서 프로세스를 식별하기 사용하는 번호이다

---

## 소켓과 웹소켓의 차이점

1. `protocol`

- socket : 주로 TCP/IP
- web socket : Web Socket Protocol

2. `연결유지`

- socket : 연결을 유지하지 않으며 데이터를 전송할 때마다 연결을 맺고 닫는다
- web socket : 한번 연결을하면 지속적인 연결을 유지한다

> 서로 선호되는 방법이지 사실상 서로의 방식으로 사용은 가능하다

3. `연결`

- socket : 없음
- web socket : 핸드셰이킹 과정을 거친뒤 연결한다

4. `보안`

- socket : 별도의 보안기능 없다
- web socket : SSL/TLS를 통한 암호화를 지원, 웹 보안 기능 사용가능하다

---

## 여러 소켓이 있다고 할 때, 그 소켓의 포트 번호는 모두 다른가요?

같을 수 있다 포트 번호는 프로세스를 식별하기 위해 할당되는 번호임으로 같은 수는 있지만 같은 IP 같은 포트 번호로 보내는 경우 서버는 패킷을 소켓으로 구분할 수 없다

---

## 사용자의 요청이 무수히 많아지면, 소켓도 무수히 생성되나요?

### `클라이언트 요청이 많을 때 사용할 수 있는 소켓 관리 방법`

- Scaling Up

        서버의 성능을 올리기 위해 하드웨어를 강화시킨다

- Scaling Out

        여러대의 서버로 분산시켜 요청을 분산처리 한다

- Socket Pool / Thread Pool

        Thread Pool를 사용하여 미리 Socket을 생성하여 생성 소멸 오버헤드를 줄이고, 서버의 자원 한계 초과를 막아준다
        미리 만들어두면 소켓을 재사용하여 성능 향상은 있을 수 있느나 메모리 사용량이 높아질 수 있다

- 연결 제한

        서버에서 동시에 처리 할 수 있는 연결의 수를 제한한다

- asynchronous I/O model

        비동기 I/O 모델을 사용하여 다중 클라이언트 요청을 처리한다

```
이로써 방법으로 요청이 무수히 많아진다하여도 소켓을 무수히 생성하지는 않는다
무수히 생성한다면 서버가 죽을 것이다
```
